(function(e,t){if("object"===typeof exports&&"object"===typeof module)module.exports=t(require("react"),require("jquery"),require("react-dom"));else if("function"===typeof define&&define.amd)define(["react","jquery","react-dom"],t);else{var n="object"===typeof exports?t(require("react"),require("jquery"),require("react-dom")):t(e.react,e.jquery,e["react-dom"]);for(var a in n)("object"===typeof exports?exports:e)[a]=n[a]}})(window,function(__WEBPACK_EXTERNAL_MODULE__0__,__WEBPACK_EXTERNAL_MODULE__11__,__WEBPACK_EXTERNAL_MODULE__13__){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:false,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=true,i.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:true,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:true})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:true,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__0__},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false,a.configurable=true,"value"in a&&(a.writable=true),Object.defineProperty(e,a.key,a)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e){return i="function"===typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)},i(e)}var o=n(10);function r(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return Object(o.a)(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}}),t&&a(e,t)}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e.MENU_EXPAND="menuExpand",e.MENU_COLLAPSE="menuCollapse",e.MENU_ITEM_SELECTED="menuItemSelected",e.UPDATE_LANGUAGE="updateLanguage",e.LOGOUT="logout",e.LOGIN_FACEBOOK="loginFB"}(a||(a={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(1);var i=n(2);var o=[];var r=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,null,[{key:"register",value:function(e){o.push(e)}},{key:"dispatch",value:function(e){for(var t in o)o.hasOwnProperty(t)&&o[t].call(this,e)}}]),e}()},function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e.DROPDOWN_EXPAND="dropDownExpand",e.DROPDOWN_COLLAPSE="dropDownCollapse"}(a||(a={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(1);var i=n(2);var o=[];var r=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,null,[{key:"register",value:function(e){o.push(e)}},{key:"dispatch",value:function(e){for(var t in o)o.hasOwnProperty(t)&&o[t].call(this,e)}}]),e}()},function(e,t,n){"use strict";function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return a})},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__11__},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var a=n(1);var i=n(2);var o=n(4);var r=n(3);var s=n(10);var l=n(5);var u=n(0);var c=n(13);var g=n(9);var f=n(8);var h=n(7);var d=n(6);function p(e,t){var n=t;while(n&&n!==window)if(n=n.parentElement,n===e)return true;return false}var v=function(e){function t(e){var n;return Object(a.a)(this,t),n=Object(o.a)(this,Object(r.a)(t).call(this,e)),n.CLASSNAME="mn-Dropdown",n.handleGlobalClose=function(e){var t=c.findDOMNode(Object(s.a)(n));return null!==t&&n.state.isExpanded&&!p(t,e.target)&&n.setState({isExpanded:false}),true},n.state={isExpanded:false},n.handleClick=n.handleClick.bind(Object(s.a)(n)),n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.createElement("div",{className:"".concat(this.CLASSNAME," ").concat(this.props.className," ").concat(this.state.isExpanded?"".concat(this.CLASSNAME,"--expanded"):"")},u.createElement("div",{className:"".concat(this.CLASSNAME,"__trigger"),role:"button",onClick:this.handleClick},this.props.title),u.createElement("div",{className:"".concat(this.CLASSNAME,"__menu")},u.createElement("div",{className:"".concat(this.CLASSNAME,"__arrow")}),u.createElement("ul",{className:"".concat(this.CLASSNAME,"__menu__inner")},this.props.children)))}},{key:"componentDidMount",value:function(){var e=this;g.a.register(function(t){switch(t.type){case f.a.DROPDOWN_COLLAPSE:e.setState({isExpanded:false});break;case f.a.DROPDOWN_EXPAND:e.setState({isExpanded:true});break}})}},{key:"handleClick",value:function(e){this.closeFromAnywhere();var t=this.state.isExpanded;if(!t){if(null!=this.props.children&&0===this.props.children.length)return;g.a.dispatch({type:f.a.DROPDOWN_COLLAPSE,payload:null}),h.a.dispatch({type:d.a.MENU_COLLAPSE,payload:null})}this.setState({isExpanded:!t})}},{key:"closeFromAnywhere",value:function(){this.unregisterCloseDropdown(this.handleGlobalClose),this.registerCloseDropdown(this.handleGlobalClose)}},{key:"unregisterCloseDropdown",value:function(e){window.removeEventListener("click",e)}},{key:"registerCloseDropdown",value:function(e){window.addEventListener("click",e)}}]),t}(u.Component)},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__13__},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Login});var _home_jenkins_workspace_6a6a4cfa_a56e_4e60_8c4f_d1a2e1ef0b37_target_checkout_server_war_src_main_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var _home_jenkins_workspace_6a6a4cfa_a56e_4e60_8c4f_d1a2e1ef0b37_target_checkout_server_war_src_main_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2);var _home_jenkins_workspace_6a6a4cfa_a56e_4e60_8c4f_d1a2e1ef0b37_target_checkout_server_war_src_main_frontend_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4);var _home_jenkins_workspace_6a6a4cfa_a56e_4e60_8c4f_d1a2e1ef0b37_target_checkout_server_war_src_main_frontend_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3);var _home_jenkins_workspace_6a6a4cfa_a56e_4e60_8c4f_d1a2e1ef0b37_target_checkout_server_war_src_main_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5);var react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);var _dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(12);var _dispatcher_DropdownEventDispatcher__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9);var _dispatcher_DropdownEventTypes__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(8);var Login=function(_React$Component){function Login(){return Object(_home_jenkins_workspace_6a6a4cfa_a56e_4e60_8c4f_d1a2e1ef0b37_target_checkout_server_war_src_main_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,Login),Object(_home_jenkins_workspace_6a6a4cfa_a56e_4e60_8c4f_d1a2e1ef0b37_target_checkout_server_war_src_main_frontend_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_home_jenkins_workspace_6a6a4cfa_a56e_4e60_8c4f_d1a2e1ef0b37_target_checkout_server_war_src_main_frontend_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(Login).apply(this,arguments))}return Object(_home_jenkins_workspace_6a6a4cfa_a56e_4e60_8c4f_d1a2e1ef0b37_target_checkout_server_war_src_main_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(Login,_React$Component),Object(_home_jenkins_workspace_6a6a4cfa_a56e_4e60_8c4f_d1a2e1ef0b37_target_checkout_server_war_src_main_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(Login,[{key:"render",value:function render(){var _this=this;var dropdownChildren=null===this.props.groups?[]:this.props.groups.map(function(loginItemGroup){return loginItemGroup.items.map(function(loginItem){return react__WEBPACK_IMPORTED_MODULE_5__.createElement("li",{key:loginItem.key,className:"mn-Dropdown__option ".concat(loginItem.css&&loginItem.css?loginItem.css:""," ")},null==loginItem.url?react__WEBPACK_IMPORTED_MODULE_5__.createElement("span",{className:"mn-Dropdown__text ".concat(_this.props.extraClasses)},loginItem.text):react__WEBPACK_IMPORTED_MODULE_5__.createElement("a",{className:"mn-Dropdown__text ".concat(_this.props.extraClasses," "),href:loginItem.url,key:loginItem.key,target:loginItem.target,onClick:function onClick(){null!=loginItem.onClick&&eval(loginItem.onClick),_dispatcher_DropdownEventDispatcher__WEBPACK_IMPORTED_MODULE_7__.a.dispatch({type:_dispatcher_DropdownEventTypes__WEBPACK_IMPORTED_MODULE_8__.a.DROPDOWN_COLLAPSE,payload:null})},dangerouslySetInnerHTML:{__html:loginItem.text}}))})});return react__WEBPACK_IMPORTED_MODULE_5__.createElement("div",{className:"Nav__item Nav__item--login"},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_6__.a,{className:"ua-meta__dropDown--loginMenu mn-Dropdown--login ".concat(this.props.css),title:[react__WEBPACK_IMPORTED_MODULE_5__.createElement("i",{key:"DropdownIcon",className:"mn-Dropdown__icon mn-Icon--login u-mobileOnly"}),react__WEBPACK_IMPORTED_MODULE_5__.createElement("span",{key:"DropdownText",className:"u-mobileInvisible"},this.props.loginText),react__WEBPACK_IMPORTED_MODULE_5__.createElement("i",{key:"DropdownIconAfter",className:"mn-Icon mn-Icon--arrowDown"})]},dropdownChildren))}}]),Login}(react__WEBPACK_IMPORTED_MODULE_5__.Component)},function(e,t,n){e.exports=n(16)},function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){a(e,t,n[t])})}return e}n.r(t);var o=n(1);var r=n(2);var s=n(4);var l=n(3);var u=n(5);var c=n(0);var g=n(7);var f=n(6);var h=function(){function e(){var t=this;Object(o.a)(this,e),this.SCROLL_DELTA=5,this.TOP_BAR_HEIGHT=50,this.lastScrollTop=0,this.didScroll=false,setInterval(function(){t.didScroll&&(t.hasScrolled(),t.didScroll=false)},250),window.addEventListener("scroll",function(){return t.didScroll=true,true})}return Object(r.a)(e,[{key:"hasScrolled",value:function(){var e=window.pageYOffset;if(Math.abs(this.lastScrollTop-e)<=this.SCROLL_DELTA)return;var t=document.querySelectorAll("header, .Logo");for(var n=0;n<t.length;n++)t[n].className=e>this.lastScrollTop&&e>this.TOP_BAR_HEIGHT?t[n].className.replace("nav-down","nav-up"):t[n].className.replace("nav-up","nav-down");this.lastScrollTop=e}}]),e}();var d=n(9);var p=n(8);var v={UNREAD_FIRST:"unread.first",UNREAD_MESSAGES:"messages.unread",UNREAD_DOCUMENTS:"documents.unread",MY_ACCOUNT:"my.account",LANGUAGE:"language",NOTIFICATIONS:"notifications",LOGOUT:"logout",LOGIN:"login",DOCUMENTS:"documents",MESSAGES:"messages",ACCOUNT:"account.overview",PAYMENTS:"payments.and.transfers",PROFILE:"profile",SETTINGS:"settings",SUBSCRIPTIONS:"subscriptions",LOGIN_FXBOOK:"fxbook",LOGIN_PREMIUM:"premium",LOGIN_BANK:"bank",LOGIN_FOX:"fox"};var m="_top";var _="_self";var k="_blank";var y="noreferrer";var b="https://trade.swissquote.ch";var w="/sqc-web-client-portal/";var E="#messages";var L="#documents";var N=function(){function e(){Object(o.a)(this,e),this.DEFAULT_TARGET=m,this.IN_FRAME_TARGET=_,this.DEFAULT_ORIGIN=b,this.PORTAL_CONTEXT=w,this.MESSAGES=E,this.DOCUMENTS=L}return Object(r.a)(e,null,[{key:"loadDefaultProductLogo",value:function(){return{logoCssClass:""}}},{key:"loadDefaultLinks",value:function(){return[{mlid:2020,label:"Home",url:"https://en.swissquote.com",language:"en",type:"home",active:false,show:true},{mlid:2386,label:"Company",url:"https://en.swissquote.com/company",language:"en",type:"company",active:false,show:true},{mlid:1055,label:"Markets & Quotes",url:"https://www.swissquote.ch/?l:en",language:"en",type:"marketsquotes",active:false,show:true},{mlid:1057,label:"Trading",url:"https://en.swissquote.com/online-trading",language:"en",type:"trading",active:false,show:true},{mlid:1094,label:"Forex",url:"https://en.swissquote.com/forex",language:"en",type:"forex",show:true,active:false},{mlid:1058,label:"Robo-Advisory",url:"https://en.swissquote.com/wealth-management",language:"en",type:"wealth",active:false,show:true},{mlid:1056,label:"Credit Solutions",url:"https://en.swissquote.com/banking-services",language:"en",type:"banking",active:false,show:true},{mlid:1053,label:"B2B",url:"https://en.swissquote.com/b2b-services",language:"en",type:"partnerships",active:false,show:true},{mlid:2022,label:"Newsroom",url:"https://en.swissquote.com/newsroom",language:"en",type:"newsroom",active:false,show:true},{mlid:1068,label:"Support",url:"https://en.swissquote.com/support",language:"en",type:"support",active:false,show:true}]}},{key:"loadDefaultLinkConfiguration",value:function(){return{linkItems:this.loadDefaultLinks()}}},{key:"loadDefaultInFrame",value:function(){return false}},{key:"loadDefaultInNewTab",value:function(){return false}},{key:"loadDefaultTranslations",value:function(){var e={};return e[this.loadDefaultLanguage().current]={language:"Language",login:"Login","login.bank":"Login Bank","login.fox":"SwissquoteFox","login.fxbook":"FXBook","login.premium":"Login Premium",logout:"Logout",more:"More","my.account":"My account","notifications.documents.unread":"unread document(s)","notifications.messages.unread":"unread message(s)","notifications.unread.first":"You have","profile.account.overview":"Account overview","profile.documents":"Documents","profile.logout":"Logout","profile.messages":"Messages","profile.payments":"Payments","profile.payments.and.transfers":"Payments & Transfers","profile.profile":"Profile","profile.settings":"Settings","profile.subscriptions":"Services"},e}},{key:"loadDefaultConfiguration",value:function(){return{loggedLevelOne:false,loggedLevelTwo:true,loggedFacebook:false,notifications:false,isResponsive:true,profile:this.loadDefaultProfile(),logout:this.loadDefaultLogout(),inFrame:this.loadDefaultInFrame(),translations:this.loadDefaultTranslations(),language:this.loadDefaultLanguage(),productLogo:this.loadDefaultProductLogo(),inNewTab:this.loadDefaultInNewTab()}}},{key:"initLoginItems",value:function(t){var n={};return n[v.LOGIN_BANK]={url:"https://www.swissquote.ch/url/login_bank?l=".concat(t),extraClasses:"\t ua-meta__dropDown__loginPlatform--loginBank ",target:e.getInFrameTarget(e.loadDefaultInFrame()),key:v.LOGIN_BANK,show:true},n[v.LOGIN_FOX]={url:"https://trade.swissquote.ch/sqi_fox/index.action",extraClasses:"\t ua-meta__dropDown__loginPlatform--fxBook ",target:e.getInFrameTarget(e.loadDefaultInFrame()),key:v.LOGIN_FOX,show:true},n[v.LOGIN_PREMIUM]={url:"https://www.swissquote.ch/url/login_premium?l=".concat(t),extraClasses:" \tua-meta__dropDown__loginPlatform--loginPremium ",target:e.getInFrameTarget(e.loadDefaultInFrame()),key:v.LOGIN_PREMIUM,show:true},n}},{key:"loadDefaultLogin",value:function(e){var t=this.initLoginItems(e);return{show:true,overrideAll:true,groups:[{items:[t[v.LOGIN_FOX],t[v.LOGIN_PREMIUM],t[v.LOGIN_BANK]]}]}}},{key:"loadDefaultNotification",value:function(){return{relativeLinks:true,inFrameTarget:this.getInNewTab(this.loadDefaultInNewTab())}}},{key:"loadDefaultProfile",value:function(){return{myAccountUrl:"https://www.swissquote.ch/url/login_bank",hasActivatedPortal:false,inFrameTarget:this.getInNewTab(this.loadDefaultInNewTab()),relativeLinks:false,items:[{target:this.loadDefaultLogout().url,show:true,css:"u-mobileOnly",iconCss:"mn-Icon--power",weight:10,id:v.LOGOUT,label:v.LOGOUT},{id:"myaccount.settings",label:v.SETTINGS,target:"".concat(w,"#settings"),iconCss:"mn-Icon--gearA",weight:60,show:true,extraClasses:"ua-meta__dropDown__myAccountMenu--settings"},{id:"myaccount.profile",label:v.PROFILE,target:"".concat(w,"#profile"),iconCss:"mn-Icon--person",weight:50,show:true,extraClasses:"ua-meta__dropDown__myAccountMenu--profile"},{id:"myaccount.subscriptions",label:v.SUBSCRIPTIONS,target:"".concat(w,"#subscriptions"),iconCss:"mn-Icon--iosInformationOutline",weight:40,show:true,extraClasses:"ua-meta__dropDown__myAccountMenu--services"},{id:"myaccount.accountOverview",label:v.ACCOUNT,show:true,target:"".concat(w,"#accountOverview/main"),iconCss:"mn-Icon--pieGraph",weight:100,extraClasses:"ua-meta__dropDown__myAccountMenu--accountOverview"},{id:"myaccount.payments",label:v.PAYMENTS,show:true,target:"".concat(w,"#web/front/wrapper/EasyPayment"),iconCss:"mn-Icon--arrowSwap",weight:90,extraClasses:"ua-meta__dropDown__myAccountMenu--paymentsTransfers"},{id:"myaccount.messages",label:v.MESSAGES,show:true,target:"".concat(w,"#messages"),iconCss:"mn-Icon--email",weight:80,extraClasses:"ua-meta__dropDown__myAccountMenu--Messages"},{id:"myaccount.documents",label:v.DOCUMENTS,show:true,target:"".concat(w,"#documents"),iconCss:"mn-Icon--documentText",weight:70,extraClasses:"ua-meta__dropDown__myAccountMenu--documents"}].filter(function(e,t,n){return e.show})}}},{key:"getRelativePrefix",value:function(e){return e?this.getCurrentOrigin():b}},{key:"getCurrentOrigin",value:function(){var e=window.top.location.protocol;var t=window.top.location.hostname;var n=this.getPort(window.top.location.port);return"".concat(e,"//").concat(t).concat(n)}},{key:"loadDefaultLanguage",value:function(){return{current:"en",showFullText:false,show:true,languages:[{id:"en",text:"English",extraClasses:"ua-meta__dropDown__languageMenu--en"},{id:"fr",text:"Français",extraClasses:"ua-meta__dropDown__languageMenu--fr"},{id:"de",text:"Deutsch",extraClasses:"ua-meta__dropDown__languageMenu--de"}]}}},{key:"loadDefaultLogout",value:function(){return{url:"/logout_bank_e.html",callback:function(){return}}}},{key:"loadDefaultMetaNavProps",value:function(){return{navConfigUrl:"//www.swissquote.ch/sq-meta-nav-plugin/webapi/metanav/",rightNavTranslationsUrl:"//www.swissquote.ch/sq-meta-nav-plugin/webapi/metanav/i18n/metanav",unreadMessagesUrl:"/sqc-messages-plugin/webapi/messages/unreadMessages",unreadNotificationsUrl:"/sqc-notifications-plugin/webapi/notifications/unreadNotifications",reloadUnreadNotificationsInterval:"60000",reloadUnreadMessagesInterval:"60000"}}}]),e}();N.getPort=function(e){return e?":".concat(e):""},N.getInFrameTarget=function(e){if(null===e)return m;return e?_:m},N.getRelNoReferrer=function(e){if(false===e)return"";return y},N.getInNewTab=function(e){if(false===e)return m;return k},N.getNavigationLinks=function(e){if(!e)return[];if(!e.linkItems)return[];return e.linkItems};var O=function(){function e(t,n,a,i){Object(o.a)(this,e),this.ID="squp.ext.metanav",this.componentClass=t,this.props=n,this.key=a,this.children=i}return Object(r.a)(e,[{key:"getProps",value:function(){return null==this.props&&(this.props=Object),null!=this.key&&(this.props.key=this.key),this.props}},{key:"getComponentClass",value:function(){return this.componentClass}},{key:"getWeight",value:function(){return this.weight}},{key:"setWeight",value:function(e){this.weight=e}},{key:"setKey",value:function(e){this.key=e}},{key:"getChildren",value:function(){return this.children}}]),e}();var I=n(12);var C=function(e){function t(e){var n;return Object(o.a)(this,t),n=Object(s.a)(this,Object(l.a)(t).call(this,e)),n.CLASSNAME="mn-Dropdown__option",n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.createElement("li",{className:"".concat(this.CLASSNAME," ").concat(this.props.className)},this.props.children)}}]),t}(c.Component);var M="search";var D="marketsquotes";var P="trading";var T=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.createElement("a",{className:this.getClassName(),href:this.props.linkDto.url,target:this.props.inFrameTarget,key:this.props.linkDto.mlid,onClick:this.props.linkDto.callback},this.props.children)}},{key:"getClassName",value:function(){return"Nav__item Nav__item--".concat(this.props.linkDto.type).concat(this.props.linkDto.active?" Nav__item--".concat(this.props.linkDto.type,"--active"):"")}}],[{key:"isSearch",value:function(e){return 0!==t.linkTypes.indexOf(M)&&M===e.type}},{key:"isMarketAndQuotes",value:function(e){return 0!==t.linkTypes.indexOf(D)&&D===e.type}},{key:"isTrading",value:function(e){return 0!==t.linkTypes.indexOf(P)&&P===e.type}}]),t}(c.Component);T.linkTypes=[];var A={"mn-Icon--pieGraph":c.createElement("svg",{fill:"#44b3a9",className:"SvgImg",height:"18",viewBox:"0 0 24 24",width:"18",xmlns:"http://www.w3.org/2000/svg",focusable:"false"},c.createElement("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"}),c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),"mn-Icon--arrowSwap":c.createElement("svg",{fill:"#44b3a9",className:"SvgImg",height:"18",viewBox:"0 0 24 24",width:"18",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.createElement("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"})),"mn-Icon--email":c.createElement("svg",{fill:"#44b3a9",className:"SvgImg",height:"18",viewBox:"0 0 24 24",width:"18",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"}),c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),"mn-Icon--gearA":c.createElement("svg",{fill:"#44b3a9",className:"SvgImg",height:"18",viewBox:"0 0 24 24",width:"18",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.createElement("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"})),"mn-Icon--person":c.createElement("svg",{fill:"#44b3a9",className:"SvgImg",height:"18",viewBox:"0 0 24 24",width:"18",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),"mn-Icon--iosInformationOutline":c.createElement("svg",{fill:"#44b3a9",className:"SvgImg",height:"18",viewBox:"0 0 24 24",width:"18",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.createElement("path",{d:"M20 13H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zM7 19c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM20 3H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM7 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"})),"mn-Icon--documentText":c.createElement("svg",{fill:"#44b3a9",className:"SvgImg",height:"18",viewBox:"0 0 24 24",width:"18",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"})),"mn-Icon--human":c.createElement("svg",{fill:"#44b3a9",className:"SvgImg",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),"mn-Icon--power":c.createElement("svg",{fill:"#323232",className:"mn-Icon--powerIcon u-mobileOnly",height:"18",viewBox:"0 0 24 24",width:"18",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.createElement("path",{d:"M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z"}))};var S={"mn-Icon--arrow-down":c.createElement("svg",{width:"10",height:"24",fill:"#44b3a9",className:"SvgImg SvgImg--white SvgImg--arrow-down",viewBox:"0 0 10 24",xmlns:"http://www.w3.org/2000/svg",focusable:"false"},c.createElement("path",{d:"M0 10l5 5 5-5"}),c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),"mn-Icon--profile":c.createElement("svg",{fill:"#323232",className:"mn-Icon--profile SvgImg--profile",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}),c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),"mn-Dropdown--more":c.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",fill:"#ffffff",xmlns:"http://www.w3.org/2000/svg",className:"SvgImg--more",focusable:"false"},c.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))};var U={"mn-Icon--bell":c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"mn-Icon--bell",fill:"#ffffff",xmlns:"http://www.w3.org/2000/svg",focusable:"false"},c.createElement("path",{d:"M11.6 20c.9 0 1.6-.7 1.6-1.6H9.9c0 .9.8 1.6 1.7 1.6zm4.9-4.9V11c0-2.5-1.3-4.6-3.7-5.2v-.6c0-.7-.6-1.2-1.2-1.2-.7 0-1.2.6-1.2 1.2v.6C8 6.3 6.6 8.4 6.6 11v4.1L5 16.7v.8h13.1v-.8l-1.6-1.6z"}),c.createElement("path",{d:"M0 0h24v24H0",fill:"none"})),"mn-Icon--bell--disabled":c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"mn-Icon--bell mn-Icon--bell--disabled",fill:"#ffffff",xmlns:"http://www.w3.org/2000/svg",focusable:"false"},c.createElement("path",{d:"M11.6 20c.9 0 1.6-.7 1.6-1.6H9.9c0 .9.8 1.6 1.7 1.6zm4.9-4.9V11c0-2.5-1.3-4.6-3.7-5.2v-.6c0-.7-.6-1.2-1.2-1.2-.7 0-1.2.6-1.2 1.2v.6C8 6.3 6.6 8.4 6.6 11v4.1L5 16.7v.8h13.1v-.8l-1.6-1.6z"}),c.createElement("path",{d:"M0 0h24v24H0",fill:"none"}))};var x=function(){function e(t){Object(o.a)(this,e),this.inFrameTarget=N.getInFrameTarget(t.inFrame),this.configLinks=N.getNavigationLinks(t.navigation),this.isPremium=t.loggedLevelOne,this.items=[],this.itemsByType={}}return Object(r.a)(e,[{key:"getItems",value:function(){return this.items}},{key:"buildLinkNavigation",value:function(e){var t=this;return this.currentLinks.slice(0,this.currentLinks.length-e).forEach(function(e){e.callback=t.handleClick;var n={};n.linkDto=e,n.inFrameTarget=t.inFrameTarget,t.items.push(new O(T,n,e.label,e.label))}),this}},{key:"buildMoreMenu",value:function(e){if(e>0){var t={};t.title=[S["mn-Dropdown--more"]],t.className="Nav__item Nav__item--more mn-Dropdown--more";var n={key:"more-menu"};this.items.push(new O(I.a,t?i({},t,n):n,"",this.getDropdownLinks(this.currentLinks,e)))}return this}},{key:"getDropdownLinks",value:function(e,t){var n=this;return e.slice(e.length-t).map(function(e){return n.getDropdownLink(e)})}},{key:"getDropdownLink",value:function(e){return c.createElement(C,{key:e.mlid,className:"mn-Dropdown__option--".concat(e.type)},c.createElement("a",{href:e.url,target:this.inFrameTarget,onClick:this.handleClick},this.getMoreMenuLinkItemContents(e)))}},{key:"getMoreMenuLinkItemContents",value:function(e){if(T.isSearch(e))return[c.createElement("span",{className:"mn-Icon mn-Icon--search "}),c.createElement("span",{className:"mn-Dropdown__text search"},e.label.toUpperCase())];return[c.createElement("span",{className:" ".concat(e.extraClasses," mn-Dropdown__text mn-Dropdown__text--","".concat(e.type," ").concat(e.active?" mn-Dropdown__text--".concat(e.type,"--active"):""))},e.label)]}},{key:"toReactElements",value:function(){var e=[];return this.items.forEach(function(t){return e.push(c.createElement(t.getComponentClass(),t.getProps(),t.getChildren()))}),e}},{key:"handleClick",value:function(e){d.a.dispatch({type:p.a.DROPDOWN_COLLAPSE,payload:null})}},{key:"clean",value:function(){return this.items=[],this}},{key:"prepareLinks",value:function(e){var t=this;if(e.forEach(function(e){t.itemsByType[e.type]=e,T.linkTypes.push(e.type)}),null!==this.configLinks&&0!==this.configLinks.length)for(var n=0;n<this.configLinks.length;n++){var a=this.configLinks[n];null!=a.type&&null!==this.itemsByType[a.type]?this.itemsByType[a.type]=i({},this.itemsByType[a.type],a):(this.itemsByType[a.type]=a,e[e.length]=a)}return this.currentLinks=e.filter(function(e){return null===e.show||e.show}),this}},{key:"getCurrentLinks",value:function(){return this.currentLinks}},{key:"prepareLinksForPremium",value:function(){var e=this;return this.isPremium&&this.currentLinks.forEach(function(t,n){if(T.isTrading(t)){var a=e.currentLinks[n].url;e.currentLinks[n].url=a.replace("www","premium")}}),this}}]),e}();var j=320;var R=function(e){function t(e){var n;return Object(o.a)(this,t),n=Object(s.a)(this,Object(l.a)(t).call(this,e)),n.MOBILE_VIEW_SIZE=j,n.linkNavigationBuilder=new x(e.configuration),n.state={navigationLinksItems:n.buildLinkNavigationItems(0,e.links)},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.createElement("nav",{className:"Nav Nav--links"},this.state.navigationLinksItems)}},{key:"componentDidMount",value:function(){var e=document.querySelectorAll(".Nav--links > a");this.updateLinks(e),window.addEventListener("resize",function(){return window.innerWidth>j&&(0===this.state.allLinks.length&&this.updateLinks(e),this.updateMoreLinksCount()),true}.bind(this))}},{key:"updateLinks",value:function(e){this.setState({allLinks:this.initSize(e)},this.updateMoreLinksCount)}},{key:"componentWillReceiveProps",value:function(e){this.setState({navigationLinksItems:this.buildLinkNavigationItems(this.getCollapsedLinksCount(),e.links)})}},{key:"buildLinkNavigationItems",value:function(e,t){return this.linkNavigationBuilder.clean().prepareLinks(t).prepareLinksForPremium().buildLinkNavigation(e).buildMoreMenu(e).toReactElements()}},{key:"updateMoreLinksCount",value:function(){this.setState({navigationLinksItems:this.buildLinkNavigationItems(this.getCollapsedLinksCount(),this.props.links)})}},{key:"initSize",value:function(e){var t=[];for(var n=0;n<e.length;n++){var a=e[n];0!==a.clientWidth&&t.push(a.clientWidth)}return t}},{key:"getCollapsedLinksCount",value:function(){var e=this.getVisibleLinksCount();return this.linkNavigationBuilder.getCurrentLinks().length-e}},{key:"getVisibleLinksCount",value:function(){var e=this.getMaxLinksWidth();var t=0;var n=0;if(0===this.state.allLinks.length)return this.state.navigationLinksItems.length;for(var a=0;a<this.state.allLinks.length;a++){if(t+=this.state.allLinks[a],t>e)break;n++}return n}},{key:"getMaxLinksWidth",value:function(){var e=document.querySelector(".MetaNav");var t=document.querySelector(".Nav--features");var n=e.clientWidth;var a=t?t.clientWidth:0;var i=64;return n-a-i}}]),t}(c.Component);var B=n(10);var F=n(11);var W=function(){function e(t,n,a,i){var r=this;Object(o.a)(this,e),this.displayedLang=function(e){for(var t in r.languages)if(r.languages.hasOwnProperty(t)){var n=r.languages[t];if(e&&e===n.id)return r.showFullText?n.text:n.id.toUpperCase()}return r.languageText},this.displayedLangMobile=function(e){for(var t in r.languages)if(r.languages.hasOwnProperty(t)){var n=r.languages[t];if(null!=e&&e===n.id)return n.text.toUpperCase()}return r.languageText},this.updateLangMetanav=function(e){g.a.dispatch({type:f.a.UPDATE_LANGUAGE,payload:e})},this.languages=t,this.showFullText=n,this.languageText=a,this.callback=i}return Object(r.a)(e,[{key:"warn",value:function(){null==this.languages&&console.log("List of languages is null!")}},{key:"updateCookie",value:function(e){var t=new Date;var n=parseInt(String(t.getUTCFullYear()-3),10);t.setUTCFullYear(n),window.document.cookie="swissquote_lang=".concat(e,";path=/;expires==").concat(t.toUTCString());var a=parseInt(String(t.getUTCFullYear()+6),10);t.setUTCFullYear(a),window.document.cookie="swissquote_lang=".concat(e,";path=/;domain=.swissquote.ch;expires=").concat(t.toUTCString())}},{key:"handleCallback",value:function(e,t){null!=this.callback&&this.callback.call(null,e,t)}},{key:"closeDropdown",value:function(){d.a.dispatch({type:p.a.DROPDOWN_COLLAPSE,payload:null})}}]),e}();var G=function(e){function t(e){var n;return Object(o.a)(this,t),n=Object(s.a)(this,Object(l.a)(t).call(this,e)),n.CLASSNAME="mn-dropdown-submenu",n.state={isExpanded:false},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.isExpanded?"".concat(this.CLASSNAME,"-expanded"):this.CLASSNAME;var t="".concat(this.props.className," ").concat(e);return c.createElement("div",{className:t},c.createElement("ul",{className:"".concat(this.CLASSNAME,"-items")},this.props.children))}}]),t}(c.Component);var H=function(e){function t(e){var n;return Object(o.a)(this,t),n=Object(s.a)(this,Object(l.a)(t).call(this,e)),n.toggleLanguagesList=function(e){e.stopPropagation(),n.setState({isLanguagesListExpanded:!n.state.isLanguagesListExpanded})},n.handleLanguageSelection=function(e){var t=e.currentTarget;var a=t.getAttribute("data-key");n.setState({isLanguagesListExpanded:false,lang:n.language.displayedLangMobile(a)}),n.language.updateCookie(a),n.language.closeDropdown(),n.language.updateLangMetanav(a),n.language.handleCallback(a,e),e.stopPropagation()},n.state={isLanguagesListExpanded:false},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){this.language=new W(this.props.languages,this.props.showFullText,this.props.languageText,this.props.callback),this.setState({lang:this.language.displayedLangMobile(this.props.lang)}),this.language.warn()}},{key:"componentWillReceiveProps",value:function(e){this.setState({lang:this.language.displayedLangMobile(e.lang)})}},{key:"render",value:function(){return c.createElement("div",{className:"mn-dropdown-submenu-trigger ua-meta__dropDown--languageMenu",onClick:this.toggleLanguagesList},this.state.lang,this.renderMobileLanguagesSubmenu())}},{key:"renderMobileLanguagesSubmenu",value:function(){return c.createElement(G,{isExpanded:this.state.isLanguagesListExpanded},this.renderMobileLanguagesList())}},{key:"renderMobileLanguagesList",value:function(){var e=this;return this.props.languages.map(function(t){return e.renderMobileLanguagesItems(t)})}},{key:"renderMobileLanguagesItems",value:function(e){return c.createElement("li",{key:e.id,"data-key":e.id,className:"mn-dropdown-submenu-item",onClick:this.handleLanguageSelection},c.createElement("span",{className:"mn-dropdown-submenu-item-text ".concat(e.id===this.props.lang?"active":"")},e.text))}}]),t}(c.Component);var K=function(e){function t(e){var n;return Object(o.a)(this,t),n=Object(s.a)(this,Object(l.a)(t).call(this,e)),n.CLASSNAME="mn-Dropdown",n.handleClick=function(e){g.a.dispatch({type:f.a.MENU_COLLAPSE,payload:null})},n.state={isExpanded:false},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this;g.a.register(function(t){switch(t.type){case f.a.MENU_COLLAPSE:e.setState({isExpanded:false});break;case f.a.MENU_EXPAND:e.setState({isExpanded:true});break}})}},{key:"render",value:function(){return c.createElement("div",{className:"".concat(this.CLASSNAME," ").concat(this.props.className," ").concat(this.state.isExpanded?"".concat(this.CLASSNAME," --expanded"):"")},c.createElement("div",{className:"".concat(this.CLASSNAME,"__trigger"),role:"button",onClick:this.handleClick},this.props.title),c.createElement("div",{className:"".concat(this.CLASSNAME,"__menu Nav--dropdown")},c.createElement("div",{className:"".concat(this.CLASSNAME,"__arrow")}),c.createElement("ul",{className:"".concat(this.CLASSNAME,"__menu__inner")},this.props.children),c.createElement("div",{className:"ScrollFix"})))}}]),t}(c.Component);var q="MetaNavMenu";var z="null";var V=0;var X=function(e){function t(e){var n;return Object(o.a)(this,t),n=Object(s.a)(this,Object(l.a)(t).call(this,e)),n.handleItemClick=function(e){var t=e.currentTarget;n.setState({selectedItem:t.getAttribute("data-key")}),g.a.dispatch({type:f.a.MENU_ITEM_SELECTED,payload:n.MENU_NAME})},n.NULL=z,n.LANGUAGE_POSITION=V,n.MENU_NAME=q,n.state={selectedItem:n.NULL},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.createElement("div",{className:"u-mobileOnly Nav__item--dropdown"},this.renderMobileMenuItems())}},{key:"renderMobileMenuItems",value:function(){return c.createElement(K,{className:this.props.isCollapsed?"":"mn-Dropdown--expanded",title:[c.createElement("i",{key:"mobile",className:"mn-Dropdown__icon mn-Icon--menu u-mobileOnly"}),c.createElement("span",{className:"u-mobileInvisible",key:"desktop"})]},this.renderMobileMenuList())}},{key:"renderMobileMenuList",value:function(){var e=this;var t=this.props.links.map(function(t){return c.createElement(C,{className:"mn-Dropdown__option--".concat(t.type),key:t.mlid},e.renderMobileMenuItem(t))});return this.isLanguageConfigurationEnabled()&&this.renderLanguageMobileItem(t),t}},{key:"isLanguageConfigurationEnabled",value:function(){var e=this.props.configuration;if(null==e)return false;var t=e.language;return null!=t&&null!=t.languages}},{key:"renderLanguageMobileItem",value:function(e){e.splice(this.LANGUAGE_POSITION,0,this.renderMobileLanguageSelector())}},{key:"renderMobileLanguageSelector",value:function(){return c.createElement(C,{key:"language-selector",className:"Nav__item--language"},this.renderMobileLanguageSelectorItem())}},{key:"renderMobileLanguageSelectorItem",value:function(){var e=this.props.configuration.language.current;return c.createElement(H,{languages:this.props.configuration.language.languages,callback:this.props.configuration.language.callback,lang:e,showFullText:this.props.configuration.language.showFullText})}},{key:"renderMobileMenuItem",value:function(e){return c.createElement("a",{href:e.url,key:e.mlid,target:N.getInFrameTarget(this.props.configuration.inFrame),"data-key":e.mlid,onClick:this.handleItemClick},this.renderMobileMenuItemContents(e))}},{key:"renderMobileMenuItemContents",value:function(e){var t="SEARCH HERE";if(T.isSearch(e))return this.renderSearchItem(e,t);return this.renderItemContent(e)}},{key:"renderItemContent",value:function(e){return[c.createElement("span",{className:"mn-Dropdown__text mn-Dropdown__text--".concat(e.type).concat(e.active?" mn-Dropdown__text--".concat(e.type,"--active"):"","\n              }"),key:e.mlid},e.label)]}},{key:"renderSearchItem",value:function(e,t){var n=String(e.mlid)===this.state.selectedItem;return[c.createElement("span",{className:"Nav--dropdown__searchText ".concat(n?"active":""),key:"text"},t),c.createElement("span",{className:"mn-Icon mn-Icon--search ".concat(n?"active":""),key:"icon"})]}},{key:"componentDidMount",value:function(){var e=this;g.a.register(function(t){switch(t.type){case f.a.MENU_ITEM_SELECTED:!e.MENU_NAME===t.payload&&e.setState({selectedItem:e.NULL});break}})}}]),t}(c.Component);var Y=function(e){function t(e){var n;return Object(o.a)(this,t),n=Object(s.a)(this,Object(l.a)(t).call(this,e)),n.state={isCollapsed:true},n.handleNavigationClick=n.handleNavigationClick.bind(Object(B.a)(n)),n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.createElement("div",{className:"u-mobileOnly MobileMenu ".concat(this.state.isCollapsed?"":"MobileMenu--expanded"),onClick:this.handleNavigationClick},this.renderMobileMenuItem())}},{key:"getItems",value:function(){var e=this.props.links;if(null==e)return[];var t=[];for(var n=0;n<e.length;n++)t.push(e[n]);return t.sort(this.linkSort()),t=t.filter(function(e,t,n){return null===e.show||e.show}),t}},{key:"linkSort",value:function(){return function(e,t){return T.isSearch(e)?-1:T.isSearch(t)?1:0}}},{key:"renderMobileMenuItem",value:function(){return c.createElement(X,{isCollapsed:this.state.isCollapsed,links:this.getItems(),configuration:this.props.configuration})}},{key:"componentDidMount",value:function(){var e=this;F(window).on("hashchange.mobileMenu",function(){return e.changeState(false),true}),g.a.register(function(t){switch(t.type){case f.a.MENU_COLLAPSE:e.setState({isCollapsed:true});break;case f.a.MENU_EXPAND:e.setState({isCollapsed:false});break}})}},{key:"componentWillUnmount",value:function(){F(window).off("hashchange.mobileMenu")}},{key:"handleNavigationClick",value:function(){this.changeState(this.state.isCollapsed)}},{key:"changeState",value:function(e){e?g.a.dispatch({type:f.a.MENU_EXPAND,payload:null}):g.a.dispatch({type:f.a.MENU_COLLAPSE,payload:null}),this.setState({isCollapsed:!e})}}]),t}(c.Component);var J=function(){function e(t){Object(o.a)(this,e),this.translations=t}return Object(r.a)(e,[{key:"subPropertyFor",value:function(e,t){return"".concat(e,".").concat(t)}},{key:"addDefaultProfileTranslations",value:function(e){var t=this;e.profileConfig.myAccountText=this.translations[v.MY_ACCOUNT],e.profileConfig.items.forEach(function(e){var n=t.translations[t.subPropertyFor(v.PROFILE,e.label)];e.label=null!==n?n:e.label})}},{key:"addNotificationsTranslations",value:function(e){e.unreadText=this.translations[this.subPropertyFor(v.NOTIFICATIONS,v.UNREAD_FIRST)],e.unreadMessagesText=this.translations[this.subPropertyFor(v.NOTIFICATIONS,v.UNREAD_MESSAGES)],e.unreadDocumentsText=this.translations[this.subPropertyFor(v.NOTIFICATIONS,v.UNREAD_DOCUMENTS)]}},{key:"getTranslation",value:function(e){return this.translations[e]}},{key:"addLoginTranslations",value:function(e){var t=this;e.loginText=this.translations[v.LOGIN],e.groups.forEach(function(e){return e.items.forEach(function(e){null==e.text&&(e.text=t.translations[t.subPropertyFor(v.LOGIN,e.key)])})})}}]),e}();var Q=n(14);var Z=function(e){function t(e){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).call(this,e))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.createElement("a",{className:"Nav__item Nav__item--logout ua-meta__button--logout ",href:this.props.url,onClick:this.props.callback,target:this.props.inFrameTarget},c.createElement("span",{className:"u-mobileInvisible"},this.props.logoutText),A["mn-Icon--power"])}}]),t}(c.Component);var $=function(e){function t(e){var n;return Object(o.a)(this,t),n=Object(s.a)(this,Object(l.a)(t).call(this,e)),n.getUpdateLanguage=n.getUpdateLanguage.bind(Object(B.a)(n)),n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){this.language=new W(this.props.languages,this.props.showFullText,this.props.languageText,this.props.callback),this.setState({current:this.language.displayedLang(this.props.current)}),this.language.warn()}},{key:"componentWillReceiveProps",value:function(e){this.setState({current:this.language.displayedLang(e.current)})}},{key:"render",value:function(){var e=this;var t=[];return Object.keys(this.props.languages).forEach(function(n){var a=e.props.languages[n];var i=e.isCurrentLanguage(a);t.push(c.createElement("li",{className:"mn-Dropdown__option mn-Dropdown__option".concat(i?"--selected":""),key:a.id},c.createElement("a",{className:" ".concat(a.extraClasses," mn-Dropdown__text"),href:"#",onClick:e.getUpdateLanguage().bind(e,a.id),ref:a.id,"data-lang":a.id},a.text)))}),c.createElement("div",{className:"Nav__item Nav__item--language u-mobileInvisible"},c.createElement(I.a,{className:"mn-Dropdown--languageSelector ua-meta__dropDown--languageMenu",title:[this.state.current,S["mn-Icon--arrow-down"]]},t))}},{key:"isCurrentLanguage",value:function(e){return e.id===this.state.current.toLowerCase()}},{key:"getUpdateLanguage",value:function(){return function(e,t){this.language.updateCookie(e),this.setState({current:this.language.displayedLang(e)}),this.language.closeDropdown(),this.language.updateLangMetanav(e),this.language.handleCallback(e,t)}.bind(this)}}]),t}(c.Component);var ee=[];var te=function(){function e(){Object(o.a)(this,e)}return Object(r.a)(e,null,[{key:"register",value:function(e){ee.push(e)}},{key:"dispatch",value:function(e){for(var t in ee)ee.hasOwnProperty(t)&&ee[t].call(this,e)}}]),e}();var ne;(function(e){e.NOTIFICATIONS_READ="notificationsRead",e.MESSAGES_READ="messagesRead"})(ne||(ne={}));var ae=6e4;var ie=new N;var oe=A["mn-Icon--documentText"];var re=A["mn-Icon--email"];var se="".concat(ie.MESSAGES,"/unread");var le=ie.MESSAGES;var ue="".concat(ie.DOCUMENTS,"/unread");var ce=ie.DOCUMENTS;var ge="MESSAGES";var fe="DOCUMENTS";var he=function(e){function t(){var e;return Object(o.a)(this,t),e=Object(s.a)(this,Object(l.a)(t).call(this)),e.unreadExist=function(){return 0!==e.state.unreadMessages.length||0!==e.getUnreadNotificationCount()},e.setUnreadNotifications=function(){return function(t,n,a){return e.setState({unreadNotifications:t})}},e.setUnreadMessages=function(){return function(t,n,a){return e.setState({unreadMessages:t})}},e.state={unreadMessages:[],unreadNotifications:[],isMessagesVisited:false,isNotificationsVisited:false},e.reloadUnreadMessages=e.reloadUnreadMessages.bind(Object(B.a)(e)),e.reloadUnreadNotifications=e.reloadUnreadNotifications.bind(Object(B.a)(e)),e.locationHashChanged=e.locationHashChanged.bind(Object(B.a)(e)),window.onhashchange=e.locationHashChanged,e}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.unreadExist();var t=e?U["mn-Icon--bell"]:U["mn-Icon--bell--disabled"];var n=e?" Nav__item--notifications--disabled ":"";var a="Nav__item Nav__item--notifications ".concat(n);var i=e?c.createElement("div",{className:"mn-Icon--unreadIndicator"}):null;return c.createElement("div",{className:a},c.createElement(I.a,{className:"Notifications",title:[t,i]},this.createBellIconDropdown()))}},{key:"locationHashChanged",value:function(){switch(this.state.isNotificationsVisited&&(this.reloadUnreadNotifications(),this.setState({isNotificationsVisited:false})),this.state.isMessagesVisited&&(this.reloadUnreadMessages(),this.setState({isMessagesVisited:false})),location.hash){case se:case le:this.setState({isMessagesVisited:true});break;case ue:case ce:this.setState({isNotificationsVisited:true});break}}},{key:"createBellIconDropdown",value:function(){var e=[];var t=this.state.unreadMessages.length;0!==t&&(e.push(this.createHeaderEntry(this.buildLink(this.props.relativeLinks,se),ge,"mHeader")),e.push(this.createMessageEntry("".concat(this.props.unreadText," ").concat(t," ").concat(this.props.unreadMessagesText))));var n=this.getUnreadNotificationCount();return 0!==n&&(e.push(this.createHeaderEntry(this.buildLink(this.props.relativeLinks,ue),fe,"nHeader")),e.push(this.createNotificationEntry("".concat(this.props.unreadText," ").concat(n," ").concat(this.props.unreadDocumentsText)))),e}},{key:"createDropdownEntry",value:function(e,t,n,a,i){return c.createElement(C,{className:a,key:i},c.createElement("a",{href:e,onClick:this.handleItemClick,target:this.props.inFrameTarget,rel:this.props.linkRel},t,c.createElement("span",{className:"mn-Dropdown__text"},n)))}},{key:"createMessageEntry",value:function(e){return this.createDropdownEntry(this.buildLink(this.props.relativeLinks,se),re,e,"","messages")}},{key:"createNotificationEntry",value:function(e){return this.createDropdownEntry(this.buildLink(this.props.relativeLinks,ue),oe,e,"","notifications")}},{key:"createHeaderEntry",value:function(e,t,n){return this.createDropdownEntry(e,null,t,"u-mobileOnly Header",n)}},{key:"componentDidMount",value:function(){var e=this;this.props.loader.reloadUnreadMessages(this.setUnreadMessages()),this.props.loader.reloadUnreadNotifications(this.setUnreadNotifications()),setInterval(this.reloadUnreadMessages,this.props.loader.getReloadUnreadMessagesInterval()),setInterval(this.reloadUnreadNotifications,this.props.loader.getReloadUnreadNotificationsInterval()),te.register(function(t){switch(t.type){case ne.MESSAGES_READ:e.props.loader.reloadUnreadMessages(e.setUnreadMessages());break;case ne.NOTIFICATIONS_READ:null!=t.payload?e.updateUnreadNotification(t.payload):e.props.loader.reloadUnreadNotifications(e.setUnreadNotifications());break}})}},{key:"reloadUnreadMessages",value:function(){this.props.loader.reloadUnreadMessages(this.setUnreadMessages())}},{key:"reloadUnreadNotifications",value:function(){this.props.loader.reloadUnreadNotifications(this.setUnreadNotifications())}},{key:"updateUnreadNotification",value:function(e){this.setState({unreadNotifications:e})}},{key:"handleItemClick",value:function(e){d.a.dispatch({type:p.a.DROPDOWN_COLLAPSE,payload:null}),g.a.dispatch({type:f.a.MENU_ITEM_SELECTED,payload:"messages"})}},{key:"buildLink",value:function(e,t){return N.getRelativePrefix(e)+ie.PORTAL_CONTEXT+t}},{key:"getUnreadNotificationCount",value:function(){if("number"===typeof this.state.unreadNotifications)return this.state.unreadNotifications;if(this.state.unreadNotifications.length)return this.state.unreadNotifications.length;return 0}}]),t}(c.Component);var de=function(e){function t(e){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).call(this,e))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.createElement("span",{className:this.props.className},this.props.text)}}]),t}(c.Component);var pe="ProfileMenu";var ve="null";var me=function(e){function t(e){var n;return Object(o.a)(this,t),n=Object(s.a)(this,Object(l.a)(t).call(this,e)),n.state={},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.props.loggedLevelTwo&&this.props.profileConfig.hasActivatedPortal?this.buildProfileDropdown():this.buildMyAccountButton()}},{key:"componentDidMount",value:function(){var e=this;g.a.register(function(t){switch(t.type){case f.a.MENU_ITEM_SELECTED:pe!==t.payload&&e.setState({selectedItem:ve});break}})}},{key:"buildMyAccountButton",value:function(){var e=this;return c.createElement("a",{className:"Nav__item Nav__item--profile",onClick:function(t){return e.handleClick},href:this.props.profileConfig.myAccountUrl,target:this.props.profileConfig.inFrameTarget},c.createElement("span",{className:"u-mobileInvisible Profile__username",key:"username"},this.props.profileConfig.myAccountText),S["mn-Icon--arrow-down"],c.createElement("span",{className:"u-mobileOnly"},S["mn-Icon--profile"]))}},{key:"buildProfileDropdown",value:function(){return c.createElement("div",{className:"Nav__item Nav__item--profile"},c.createElement(I.a,{className:"Profile",title:[c.createElement("span",{className:"u-mobileInvisible Profile__username",key:"username"},this.props.profileConfig.myAccountText),S["mn-Icon--arrow-down"],S["mn-Icon--profile"]]},this.getProfileDropdownOptions()))}},{key:"handleClick",value:function(e,t){null!==t&&t.id===v.LOGOUT&&t.callback(),this.setState({selectedItem:e.target.textContent}),g.a.dispatch({type:f.a.MENU_ITEM_SELECTED,payload:pe}),d.a.dispatch({type:p.a.DROPDOWN_COLLAPSE,payload:null})}},{key:"getProfileDropdownOptions",value:function(){var e=this;var t=[];if(null==this.props.profileConfig.items)return[];return this.props.profileConfig.items.forEach(function(n,a,i){return t.push(c.createElement(C,{className:n.css,key:String(a)},e.getDropdownOptionContent(n)))}),t}},{key:"clickWrapper",value:function(e,t){this.handleClick(e,t)}},{key:"getDropdownOptionContent",value:function(e){var t=this;return c.createElement("a",{target:this.props.profileConfig.inFrameTarget,onClick:function(n){return t.clickWrapper(n,e)},href:e.target,id:e.id,rel:this.props.linkRel},c.createElement(de,{className:"mn-Dropdown__icon ".concat(e.iconCss," ").concat(e.extraClasses," ").concat(this.isActive(e.label)?"".concat(e.iconCss,"--active"):""),text:null!==e.iconCss&&""===e.iconCss?e.label:A[e.iconCss]},""),c.createElement(de,{className:"mn-Dropdown__text ".concat(this.isActive(e.label)?"mn-Dropdown__text--active":""),text:e.label},""))}},{key:"isActive",value:function(e){return null!==this.state&&null!==e&&e===this.state.selectedItem}}]),t}(c.Component);var _e=function(){function e(){Object(o.a)(this,e)}return Object(r.a)(e,null,[{key:"stringNotValid",value:function(e){return null===e||"null"===e||void 0===e||0===e.trim().length}},{key:"validateITConfigData",value:function(e){var t={};return t.brandingID=this.stringNotValid(e.brandingID)?"":e.brandingID,t.ioeId=this.stringNotValid(e.ioeId)?"":e.ioeId,t.lang=this.stringNotValid(e.lang)?N.loadDefaultLanguage().current:e.lang,t.navConfigUrl=this.stringNotValid(e.navConfigUrl)?N.loadDefaultMetaNavProps().navConfigUrl:e.navConfigUrl,t.rightNavTranslationsUrl=this.stringNotValid(e.rightNavTranslationsUrl)?N.loadDefaultMetaNavProps().rightNavTranslationsUrl:e.rightNavTranslationsUrl,t.unreadMessagesUrl=this.stringNotValid(e.unreadMessagesUrl)?N.loadDefaultMetaNavProps().unreadMessagesUrl:e.unreadMessagesUrl,t.unreadNotificationsUrl=this.stringNotValid(e.unreadNotificationsUrl)?N.loadDefaultMetaNavProps().unreadNotificationsUrl:e.unreadNotificationsUrl,t.reloadUnreadMessagesInterval=this.stringNotValid(e.reloadUnreadMessagesInterval)?N.loadDefaultMetaNavProps().reloadUnreadMessagesInterval:e.reloadUnreadMessagesInterval,t.reloadUnreadNotificationsInterval=this.stringNotValid(e.reloadUnreadNotificationsInterval)?N.loadDefaultMetaNavProps().reloadUnreadNotificationsInterval:e.reloadUnreadNotificationsInterval,t}},{key:"iterate",value:function(e,t){var n=e[t];if(null===n)return;"string"===typeof n?this.toBoolean(e,t,n):"boolean"!==typeof n&&"number"!==typeof n&&this.validateConfiguration(n,null)}},{key:"toBoolean",value:function(e,t,n){if(null==n)return;"true"===n&&(e[t]=true),"false"===n&&(e[t]=false)}},{key:"validateConfiguration",value:function(t,n){for(var a in t)t.hasOwnProperty(a)&&e.iterate(t,a);return t}}]),e}();function ke(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}_e.booleanNotValid=function(e){return!("boolean"===typeof e)};var ye=function(){function e(t,n,a){Object(o.a)(this,e),this.configuration=t,this.language=a,this.itemsById={},this.translator=n}return Object(r.a)(e,[{key:"loadLogin",value:function(){var e=this;return null!=this.configuration&&null!=this.configuration.login&&(null!=this.configuration.login.overrideAll&&(this.loginProps.overrideAll=this.configuration.login.overrideAll),null!=this.configuration.login.show&&(this.loginProps.show=this.configuration.login.show),null!=this.configuration.login.groups&&this.overrideDefaultItems(),null!=this.configuration.inFrame&&this.loginProps.groups.forEach(function(t){return t.items.forEach(function(t){t.target=N.getInFrameTarget(e.configuration.inFrame)})})),this}},{key:"overrideDefaultItems",value:function(){var e=this;this.loginProps.overrideAll?ke(this.loginProps,this.configuration.login):(this.loginProps.groups.forEach(function(t){return t.items.forEach(function(t){return e.itemsById[t.key]=t})}),this.configuration.login.groups.forEach(function(t){return t.items.forEach(function(t){return e.overrideDefaultItem(t,e.itemsById[t.key])})}),this.loginProps.groups.forEach(function(e){return e.items=e.items.filter(function(e,t,n){return e.show})}))}},{key:"overrideDefaultItem",value:function(e,t){null!=t&&ke(t,e)}},{key:"setDefaultLoginProps",value:function(e){return this.loginProps=e,this}},{key:"getLoginProps",value:function(){return this.translator.addLoginTranslations(this.loginProps),this.loginProps}}]),e}();var be=function(){function e(t,n){Object(o.a)(this,e),this.translator=t,this.configuration=n,this.profileProps={},this.itemsById={}}return Object(r.a)(e,[{key:"getDefaultProfile",value:function(){return this.profileProps.profileConfig=N.loadDefaultProfile(),this.profileProps.logoutConfig=N.loadDefaultLogout(),this.translator.addDefaultProfileTranslations(this.profileProps),this}},{key:"loadProfile",value:function(){return null!=this.configuration&&null!=this.configuration.profile&&(null!=this.configuration.profile.hasActivatedPortal&&(this.profileProps.profileConfig.hasActivatedPortal=this.configuration.profile.hasActivatedPortal),null!=this.configuration.profile.myAccountUrl&&(this.profileProps.profileConfig.myAccountUrl=this.configuration.profile.myAccountUrl),null!=this.configuration.profile.myAccountText&&(this.profileProps.profileConfig.myAccountText=this.configuration.profile.myAccountText),null!=this.configuration.loggedLevelTwo&&(this.profileProps.loggedLevelTwo=this.configuration.loggedLevelTwo),null!=this.configuration.logout.url&&(this.profileProps.logoutConfig.url=this.configuration.logout.url),null!=this.configuration.logout.callback&&(this.profileProps.logoutConfig.callback=this.configuration.logout.callback),null!=this.configuration.inNewTab&&(this.profileProps.profileConfig.inFrameTarget=N.getInNewTab(this.configuration.inNewTab),this.profileProps.linkRel=N.getRelNoReferrer(this.configuration.inNewTab)),null!=this.configuration.profile.relativeLinks&&(this.profileProps.profileConfig.relativeLinks=this.configuration.profile.relativeLinks),null!=this.configuration.profile.items?this.overrideDefaultItems():this.buildDefaultLinks()),this}},{key:"buildDefaultLinks",value:function(){var e=this;this.profileProps.profileConfig.items.forEach(function(t){t.target=e.buildLink(e.configuration.profile.relativeLinks,null,t.target)})}},{key:"overrideDefaultItems",value:function(){var e=this;this.profileProps.profileConfig.items.forEach(function(t){return e.itemsById[t.id]=t}),this.configuration.profile.items.forEach(function(t){return e.overrideDefaultItem(t,e.itemsById[t.id])}),this.overrideLogoutItem(),this.profileProps.profileConfig.items=this.profileProps.profileConfig.items.filter(function(e,t,n){return e.show})}},{key:"overrideDefaultItem",value:function(e,t){null!=t?(e.target=this.buildLink(this.profileProps.profileConfig.relativeLinks,e.target,t.target),ke(t,e)):(e.target=this.buildLink(this.profileProps.profileConfig.relativeLinks,e.target,e.target),this.itemsById[e.id]=e,this.profileProps.profileConfig.items[this.profileProps.profileConfig.items.length]=e)}},{key:"buildLink",value:function(e,t,n){return null!=t?t:N.getRelativePrefix(e)+n}},{key:"overrideLogoutItem",value:function(){var e=this.getLogoutItem();null!=e&&(e.target=this.profileProps.logoutConfig.url,e.callback=this.profileProps.logoutConfig.callback)}},{key:"getLogoutItem",value:function(){for(var e=0;e<this.profileProps.profileConfig.items.length;e++){var t=this.profileProps.profileConfig.items[e];if(t.id.toLowerCase()===v.LOGOUT.toLocaleLowerCase())return t}return console.error("Logout item of mobile menu is not found"),null}},{key:"sortProfileItems",value:function(){return this.profileProps.profileConfig.items.sort(function(e,t){return t.weight-e.weight}),this}},{key:"getProfileProps",value:function(){return this.profileProps}}]),e}();var we=function(){function e(t,n){Object(o.a)(this,e),this.translator=t,this.logoutProps={},this.configuration=n,this.itemsById={}}return Object(r.a)(e,[{key:"getDefaultLogout",value:function(){this.logoutProps.logoutText=this.translator.getTranslation(v.LOGOUT);var e=N.loadDefaultLogout();return this.logoutProps.url=e.url,this.logoutProps.inFrameTarget=N.getInFrameTarget(N.loadDefaultInFrame()),this.logoutProps.callback=e.callback,this}},{key:"loadLogoutFromConfig",value:function(){return null!=this.configuration.logout.url&&(this.logoutProps.url=this.configuration.logout.url),null!=this.configuration.logout.callback&&(this.logoutProps.callback=this.configuration.logout.callback),null!=this.configuration.inFrame&&(this.logoutProps.inFrameTarget=N.getInFrameTarget(this.configuration.inFrame)),this}},{key:"getLogoutProps",value:function(){return this.logoutProps}}]),e}();var Ee=function(){function e(t,n,a){Object(o.a)(this,e),this.configuration=t,this.translator=n,this.loader=a}return Object(r.a)(e,[{key:"getDefaultNotifications",value:function(){return this.notificationProps=N.loadDefaultNotification(),this}},{key:"loadNotificationFromConfig",value:function(){if(null!=this.configuration){var e=this.configuration,t=e.notification,n=e.inNewTab;this.setupRelativeLinksProps(t),this.setupNewTabProps(n)}return this.notificationProps.loader=this.loader,this.translator.addNotificationsTranslations(this.notificationProps),this}},{key:"setupRelativeLinksProps",value:function(e){null!=e&&null!=e.relativeLinks&&(this.notificationProps.relativeLinks=e.relativeLinks)}},{key:"setupNewTabProps",value:function(e){null!=e&&(this.notificationProps.inFrameTarget=N.getInNewTab(e),this.notificationProps.linkRel=N.getRelNoReferrer(e))}},{key:"getNotificationProps",value:function(){return this.notificationProps}}]),e}();var Le;(function(e){e[e.PUBLIC=0]="PUBLIC",e[e.PREMIUM_WITHOUT_BANK=1]="PREMIUM_WITHOUT_BANK",e[e.BANK_WITH_PORTAL=2]="BANK_WITH_PORTAL",e[e.BANK_WITHOUT_PORTAL=3]="BANK_WITHOUT_PORTAL",e[e.FACEBOOK=4]="FACEBOOK"})(Le||(Le={}));var Ne=function(){function e(t,n){Object(o.a)(this,e);var a=t.language.current;this.items=[],this.configuration=t;var i=t.translations[a]?t.translations[a]:t.translations.en;this.translator=new J(i),this.notificationItemBuilder=new Ee(t,this.translator,n),this.logoutItemBuilder=new we(this.translator,t),this.profileItemBuilder=new be(this.translator,t),this.loginItemBuilder=new ye(t,this.translator,a)}return Object(r.a)(e,[{key:"getItems",value:function(){return this.items}},{key:"buildLanguage",value:function(){if(null!==this.configuration&&this.hasLanguageSelector()&&null!==this.configuration.language){var e=this.getLanguageProps();this.items.push(new O($,e,v.LANGUAGE,null))}return this}},{key:"buildNotification",value:function(){var e=this.getLoginType(this.configuration);if(e===Le.BANK_WITH_PORTAL&&this.hasNotification()){var t=this.notificationItemBuilder.getDefaultNotifications().loadNotificationFromConfig().getNotificationProps();this.items.push(new O(he,t,v.NOTIFICATIONS,null))}return this}},{key:"buildLogout",value:function(e){if(this.showLogout(e)){var t=this.logoutItemBuilder.getDefaultLogout().loadLogoutFromConfig().getLogoutProps();this.items.push(new O(Z,t,v.LOGOUT,null))}return this}},{key:"showLogout",value:function(e){var t=this.getLoginType(this.configuration);return this.loggedDesktopView(e,t)||this.loggedWithoutPortalMobileView(e,t)}},{key:"loggedDesktopView",value:function(e,t){return t!==Le.PUBLIC&&!e}},{key:"loggedWithoutPortalMobileView",value:function(e,t){return e&&t!==Le.BANK_WITH_PORTAL&&t!==Le.PUBLIC}},{key:"buildProfile",value:function(){var e=this.getLoginType(this.configuration);if(e!==Le.PUBLIC&&e!==Le.FACEBOOK){var t=this.profileItemBuilder.getDefaultProfile().loadProfile().sortProfileItems().getProfileProps();this.items.push(new O(me,t,v.PROFILE,null))}return this}},{key:"buildLogin",value:function(e){if(this.getLoginType(this.configuration)===Le.PUBLIC){var t=this.loginItemBuilder.setDefaultLoginProps(e).loadLogin().getLoginProps();t.show&&this.items.push(new O(Q.a,t,v.LOGIN,null))}return this}},{key:"getLanguageProps",value:function(){var e=this.overrideLanguage(this.configuration.language);return e.languageText=this.translator.getTranslation(v.LANGUAGE),e}},{key:"overrideLanguage",value:function(e){var t=N.loadDefaultLanguage();if(null===e)return t;return null===e.showFullText&&(e.showFullText=t.showFullText),null===e.languages&&(e.languages=t.languages),e}},{key:"hasNotification",value:function(){return null===this.configuration.notifications&&(this.configuration.notifications=false),this.configuration.notifications}},{key:"hasLanguageSelector",value:function(){if(null===this.configuration.language)return false;return null===this.configuration.language.show&&(this.configuration.language.show=true),this.configuration.language.show}},{key:"sort",value:function(e){return this.items.sort(e),this}},{key:"buildWeight",value:function(){var e=this;return this.items.forEach(function(t){return e.addWeight(t)}),this}},{key:"addWeight",value:function(e){var t=this.getLoginType(this.configuration);var n=e.key;if(null===n)return;var a=-1;switch(t){case Le.PUBLIC:a=n===v.LOGIN?20:-1;break;case Le.PREMIUM_WITHOUT_BANK:a=n===v.PROFILE?20:n===v.LOGOUT?30:-1;break;case Le.BANK_WITH_PORTAL:a=n===v.NOTIFICATIONS?20:n===v.PROFILE?30:n===v.LOGOUT?40:-1;break;case Le.BANK_WITHOUT_PORTAL:a=n===v.PROFILE?20:n===v.LOGOUT?30:-1;break;case Le.FACEBOOK:a=n===v.LOGOUT?20:-1;break;default:a=n===v.LOGIN?20:-1;break}a=n===v.LANGUAGE?0:a,e.setWeight(a)}},{key:"toReactElements",value:function(){var e=[];return this.items.forEach(function(t){return e.push(c.createElement(t.getComponentClass(),t.getProps()))}),e}},{key:"getLoginType",value:function(e){if(null===e)return console.log("Configuration not found, fallback to default props is  user"),Le.PUBLIC;if(_e.booleanNotValid(e.loggedLevelOne)||_e.booleanNotValid(e.loggedLevelTwo))return console.log&&console.log("Illegal configuration, fallback to default props is  user"),console.dir&&console.dir(e),Le.PUBLIC;if(e.loggedFacebook)return Le.FACEBOOK;if(e.loggedLevelOne&&!e.loggedLevelTwo)return Le.PREMIUM_WITHOUT_BANK;if(e.loggedLevelTwo&&e.profile.hasActivatedPortal)return Le.BANK_WITH_PORTAL;if(e.loggedLevelTwo)return Le.BANK_WITHOUT_PORTAL;return Le.PUBLIC}}]),e}();var Oe="ar";var Ie=727;var Ce=function(e){function t(e){var n;return Object(o.a)(this,t),n=Object(s.a)(this,Object(l.a)(t).call(this,e)),n.ARABIC_CODE=Oe,n.MOBILE_VIEW_SIZE=Ie,n.state={accountItems:n.buildMetaNavItems(e.configuration,e.loadedConfiguration)},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({accountItems:this.buildMetaNavItems(e.configuration,e.loadedConfiguration)})}},{key:"render",value:function(){return c.createElement("nav",{className:"Nav Nav--features ua-meta__dropDown--myAccountMenu ",dir:this.leftToRightDir()},this.state.accountItems)}},{key:"leftToRightDir",value:function(){return this.isArabic()?"rtl":""}},{key:"isArabic",value:function(){return this.props.configuration.language.current===this.ARABIC_CODE}},{key:"buildMetaNavItems",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)return[];var n=new Ne(e,this.props.loader);var a=window.innerWidth<this.MOBILE_VIEW_SIZE;return n.buildLogin(t.login||{}).buildLogout(a).buildProfile().buildLanguage().buildNotification().buildWeight().sort(function(e,t){return e.getWeight()-t.getWeight()}).toReactElements()}}]),t}(c.Component);var Me="squp.ext.metanav.config";var De={key:"X-SQ-Autorefresh",value:"1"};var Pe=function(){function e(t,n,a,i){Object(o.a)(this,e),this.extension=t,this.onSuccessLinkMenu=a,this.onSuccessAccountMenu=i,this.navConfigUrl=n.navConfigUrl,this.rightNavUrl=n.rightNavTranslationsUrl,this.unreadNotificationsUrl=n.unreadNotificationsUrl,this.unreadMessagesUrl=n.unreadMessagesUrl,this.reloadUnreadMessagesInterval=n.reloadUnreadMessagesInterval,this.reloadUnreadNotificationsInterval=n.reloadUnreadNotificationsInterval,this.lang=n.lang,this.brandingID=n.brandingID,this.ioeId=n.ioeId,this.configuration=N.loadDefaultConfiguration()}return Object(r.a)(e,[{key:"loadConfiguration",value:function(){return this.extension.loadContributorsArray(Me).then(this.updateConfiguration())}},{key:"setConfiguration",value:function(e){null!=e[0]?this.configuration=e[0].getInstance():this.configuration=N.loadDefaultConfiguration(),_e.validateConfiguration(this.configuration,"")}},{key:"updateConfiguration",value:function(){var e=this;return function(t){e.setConfiguration(t),e.updateLanguage(),e.reload()}}},{key:"loadLoginProps",value:function(){var e=this.getBrandingId();var t=this.getIoeId();var n=this.isSlim();var a="isSlim=".concat(n).concat(t?"&ioeId="+t:"").concat(e?"&brandingId="+e:"");var i="".concat(this.navConfigUrl,"/login/").concat(this.configuration.language.current,"?").concat(a);return F.getJSON(i)}},{key:"loadTranslations",value:function(){var e=this.getBrandingId();var t=e?"?brandingId=".concat(e):"";return F.getJSON("".concat(this.rightNavUrl,"/all").concat(t))}},{key:"loadNavLinks",value:function(){var e=this;var t=this.getBrandingId();var n=this.getIoeId();var a="".concat(n?"ioeId="+n:"","&").concat(t?"brandingId="+t:"");var i="".concat(this.navConfigUrl,"/links/").concat(this.configuration.language.current,"?").concat(a);return F.getJSON(i,function(t){e.onSuccessLinkMenu(e.configuration,t)})}},{key:"getBrandingId",value:function(){return this.configuration.brandingID?this.configuration.brandingID:this.brandingID}},{key:"getIoeId",value:function(){return this.configuration.ioeId?this.configuration.ioeId:this.ioeId}},{key:"isSlim",value:function(){return document.querySelector("body").className.indexOf("s-navSlim")>-1}},{key:"loadDefaultMetanav",value:function(){var e=this;return function(){var t=N.loadDefaultLanguage().current;e.configuration.language.current=t,e.configuration.translations=N.loadDefaultTranslations(),e.onSuccessAccountMenu(e.configuration,N.loadDefaultLogin(t)),e.onSuccessLinkMenu(e.configuration,N.loadDefaultLinks())}}},{key:"addAutoRefreshCallsHeader",value:function(e){e.setRequestHeader(De.key,De.value)}},{key:"reloadUnreadMessages",value:function(e){F.ajax({beforeSend:this.addAutoRefreshCallsHeader,dataType:"json",url:this.unreadMessagesUrl,success:e})}},{key:"reloadUnreadNotifications",value:function(e){F.ajax({beforeSend:this.addAutoRefreshCallsHeader,dataType:"json",url:this.unreadNotificationsUrl,success:e})}},{key:"updateLanguage",value:function(){null==this.configuration.language&&(this.configuration.language={current:this.lang}),null==this.configuration.language.current&&(this.configuration.language.current=this.lang)}},{key:"getReloadUnreadNotificationsInterval",value:function(){var e=parseInt(this.reloadUnreadNotificationsInterval,10);return isNaN(e)?ae:e}},{key:"getReloadUnreadMessagesInterval",value:function(){var e=parseInt(this.reloadUnreadMessagesInterval,10);return isNaN(e)?ae:e}},{key:"reloadMetanavOnUpdateLanguage",value:function(e,t){this.configuration.language.current=t,this.reload()}},{key:"reloadMetanavOnLogout",value:function(e){this.configuration.loggedLevelOne=false,this.configuration.loggedLevelTwo=false,this.configuration.loggedFacebook=false,this.reload()}},{key:"reloadMetanavOnLogin",value:function(e,t){this.configuration.loggedFacebook=t,this.reload()}},{key:"reload",value:function(){F.when(this.loadNavLinks(),this.loadAccountMenu()).fail(this.loadDefaultMetanav())}},{key:"loadAccountMenu",value:function(){var e=this;return F.when(this.loadTranslations(),this.loadLoginProps()).done(function(t,n){e.configuration.translations=t[0],e.onSuccessAccountMenu(e.configuration,n[0])})}}]),e}();window.plugin||(window.plugin={}),window.plugin.metanav||(window.plugin.metanav={}),window.plugin.metanav.dispatcher||(window.plugin.metanav.dispatcher={}),window.plugin.metanav.event||(window.plugin.metanav.event={}),window.plugin.metanav.dispatcher.MetaNavEventDispatcher=g.a,window.plugin.metanav.dispatcher.MetaNavEventTypes=f.a,window.plugin.metanav.event.Event=function(e,t){return i({},{type:e},{payload:t})};var Te=function(){function e(){Object(o.a)(this,e)}return Object(r.a)(e,null,[{key:"setLanguage",value:function(t){e.emittedEvents.push({type:"UPDATE_LANGUAGE",value:t})}},{key:"logout",value:function(){e.emittedEvents.push({type:"LOGOUT",value:""})}},{key:"login",value:function(){e.emittedEvents.push({type:"LOGIN_FACEBOOK",value:true})}},{key:"asynchronousDispatcher",value:function(){e.emittedEvents.forEach(function(e){e.value&&g.a.dispatch({type:f.a[e.type],payload:e.value})}),e.emittedEvents=[]}}]),e}();Te.emittedEvents=[];var Ae=727;var Se=function(e){function t(e){var n;return Object(o.a)(this,t),n=Object(s.a)(this,Object(l.a)(t).call(this,e)),n.state={configuration:N.loadDefaultConfiguration(),loadedConfiguration:{}},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(){Te.asynchronousDispatcher()}},{key:"componentWillMount",value:function(){var e=_e.validateITConfigData(this.props);this.loader=new Pe(this.props.api.extensions(),e,this.getOnSuccessLinkNavigationMenu(),this.getOnSuccessAccountNavigationMenu()),this.registerStateChanges(),this.loader.loadConfiguration()}},{key:"getOnSuccessLinkNavigationMenu",value:function(){var e=this;return function(t,n){return e.setState({linkNavigationMenu:e.initLinkNavigationMenu(n,t),mobileNavigationMenu:e.initMobileNavigationMenu(n,t)})}}},{key:"getOnSuccessAccountNavigationMenu",value:function(){var e=this;return function(t,n){var a=i({},e.state.loadedConfiguration,{login:n});e.setState({configuration:t,loadedConfiguration:a,accountNavigationMenu:e.initAccountNavigationMenu(t,a)})}}},{key:"render",value:function(){return this.state.linkNavigationMenu&&this.state.mobileNavigationMenu&&this.state.accountNavigationMenu?c.createElement("header",{className:"MetaNav".concat(this.addProductLogo()).concat(this.isResponsive())},this.state.linkNavigationMenu,this.state.mobileNavigationMenu,this.state.accountNavigationMenu):null}},{key:"isResponsive",value:function(){if(null==this.state.configuration.isResponsive)return" is-responsive";return this.state.configuration.isResponsive?" is-responsive":" "}},{key:"addProductLogo",value:function(){if(null==this.state||null==this.state.configuration||null==this.state.configuration.productLogo)return" ";if(null==this.state.configuration.productLogo.logoCssClass||""===this.state.configuration.productLogo.logoCssClass)return" ";return" MetaNav--".concat(this.state.configuration.productLogo.logoCssClass," ")}},{key:"componentDidMount",value:function(){var e=this;var t=document.querySelectorAll("header, .Logo");for(var n=0;n<t.length;n++)t[n].className+=" nav-down";new h;window.addEventListener("resize",function(){return e.setState({accountNavigationMenu:e.initAccountNavigationMenu(e.state.configuration,e.state.loadedConfiguration)}),true})}},{key:"registerStateChanges",value:function(){var e=this;g.a.register(function(t){switch(t.type){case f.a.UPDATE_LANGUAGE:e.loader.reloadMetanavOnUpdateLanguage(e.state.configuration,e.formattedLang(t.payload));break;case f.a.LOGOUT:e.loader.reloadMetanavOnLogout(e.state.configuration);break;case f.a.LOGIN_FACEBOOK:e.loader.reloadMetanavOnLogin(e.state.configuration,t.payload);break}})}},{key:"formattedLang",value:function(e){var t=this.state.configuration.language.languages;for(var n in void 0!==t&&null!==t||(t=N.loadDefaultLanguage().languages),t)if(t.hasOwnProperty(n)){var a=t[n];if(null!=e&&e===a.id)return a.id}return""}},{key:"initLinkNavigationMenu",value:function(e,t){return c.createElement(R,{links:e,configuration:t})}},{key:"initAccountNavigationMenu",value:function(e,t){return c.createElement(Ce,{configuration:e,loader:this.loader,isMobile:this.isMobileView(),loadedConfiguration:t})}},{key:"isMobileView",value:function(){return window.innerWidth<Ae}},{key:"initMobileNavigationMenu",value:function(e,t){return c.createElement(Y,{links:e,configuration:t})}}]),t}(c.Component);n.d(t,"MetaNav",function(){return Se}),n.d(t,"MetaNavActions",function(){return Te})}])});
//# sourceMappingURL=app.min.js.map